
@{
    ViewBag.Title = "UpdateTransfer";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="right_col" role="main">
    <div class="">
        <div class="row">
            <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="x_panel">
                    <div class="menusect">
                        <h5>
                            Assets •
                            <a href="/asset/transfer" class="activemenu">Asset Transfer</a> •
                            <a href="/asset/updatetransfer" class="activemenu">Update Transfer</a>
                        </h5>
                    </div>
                    <div class="x_title">
                        <h2>Update Transfer</h2>
                        <div class="clearfix"></div>
                    </div>
                    <div class="x_content">
                        <div class="form-group">
                            <h3 style="color: #c11118;border-bottom: 1px dashed;padding-bottom: 5px;">Assets Transfer</h3>
                        </div>
                        <table id="datatable" class="table table-striped table-bordered bulk_action">
                            <thead>
                                <tr>
                                    <th width="16%">Asset Code</th>
                                    <th>Asset Name</th>
                                    <th width="13%">Serial No</th>
                                </tr>
                            </thead>
                            <tbody>
                                @try
                                {
                                    foreach (CORE.JGC.Models.TrTransferAssetLine item in Model)
                                    {
                                        <tr>
                                            <td>@Html.DisplayFor(modelItem => item.AssetCode)</td>
                                            <td>@Html.DisplayFor(modelItem => item.AssetName)</td>
                                            <td>@Html.DisplayFor(modelItem => item.AssetSerialNo)</td>
                                        </tr>
                                    }
                                }
                                catch
                                { }
                            </tbody>
                        </table>
                        <div class="ln_solid"></div>
                        <form class="form-horizontal form-label-left">
                            <div class="form-group">
                                <label class="control-label col-md-1 col-sm-1 col-xs-12">Status</label>
                                <div class="col-md-4 col-sm-4 xdisplay_inputx form-group has-feedback">
                                    <input class="form-control" id="Status" name="Status" value="" type="hidden" data-id="i" autocomplete="off" required="" readonly />
                                    <input class="form-control" id="NamaStatus" name="NamaStatus" value="" type="text" autocomplete="off" required="" readonly />
                                </div>
                                <label class="control-label col-md-1 col-sm-1 col-xs-12">Action</label>
                                <div class="col-md-4 col-sm-4 col-xs-12">
                                    <select class="form-control" id="Action" name="Action" disabled></select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-md-1 col-sm-1 col-xs-12">Transfer No</label>
                                <div class="col-md-4 col-sm-4 xdisplay_inputx form-group has-feedback">
                                    <input class="form-control" id="TransferAssetNo" name="TransferAssetNo" value="Auto Generate" type="text" data-id="i" autocomplete="off" style="cursor:auto;" required="" readonly />
                                </div>
                                <label class="control-label col-md-1 col-sm-1 col-xs-12">Type</label>
                                <div class="col-md-4 col-sm-4 col-xs-12">
                                    <div class="">
                                        <input class="form-control readonly" id="Type" name="Type" value="" type="hidden" data-id="i" autocomplete="off" required="" />
                                        <input class="form-control readonly" id="NamaType" placeholder="Type" name="NamaType" value="" type="text" data-id="i" autocomplete="off" required="" data-toggle="modal" style="cursor:auto; margin-right:0;height: 34px;" readonly />
                                        @*<span class="input-group-btn">
                                            <a class="btn btn-info" onclick="TypeTransfer()" data-target="#Lookup" data-toggle="modal" style="margin-right:0;height: 34px; readonly">
                                                <i class="fa fa-search fa-fw"></i>
                                            </a>
                                        </span>*@
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-md-1 col-sm-1 col-xs-12">Transfer Date</label>
                                <div class="col-md-4 col-sm-4 xdisplay_inputx form-group has-feedback">
                                    <input type="text" class="form-control has-feedback-left" id="single_cal2" name="TransferDate" placeholder="Transfer Date" data-id="i" aria-describedby="transferDate" disabled>
                                    <span class="fa fa-calendar-o form-control-feedback left" aria-hidden="true"></span>
                                    <span id="scheduleDate" class="sr-only">(success)</span>
                                </div>
                                <label class="control-label col-md-1 col-sm-1 col-xs-12">Transfer Asset Ref</label>
                                <div class="col-md-4 col-sm-4 col-xs-12">
                                    <div class="">
                                        <input class="form-control readonly" id="TransferAssetNoRef" placeholder="Transfer Asset Ref" name="TransferAssetNoRef" value="" type="text" data-id="i" autocomplete="off" data-toggle="modal" style="margin-right:0;height: 34px;cursor:auto;" readonly />
                                        @*<span class="input-group-btn">
                                            <a class="btn btn-info" id="btnRefTransfer" name="btnRefTransfer" onclick="TransferNoRef()" data-target="#Lookup" data-toggle="modal" style="margin-right:0;height: 34px;" readonly>
                                                <i class="fa fa-search fa-fw"></i>
                                            </a>
                                        </span>*@
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-md-1 col-sm-1 col-xs-12">Site</label>
                                <div class="col-md-4 col-sm-4 col-xs-12">
                                    <div class="">
                                        <input class="form-control readonly" id="SiteCode" name="SiteCode" value="" type="hidden" data-id="i" autocomplete="off" required="" />
                                        <input class="form-control readonly" placeholder="Site" id="SiteName" name="SiteName" value="" type="text" data-id="i" autocomplete="off" required="" data-toggle="modal" style="curson:auto;margin-right:0;height: 34px; cursor:auto;" readonly />
                                        @*<span class="input-group-btn">
                                            <a class="btn btn-info" style="margin-right:0;height: 34px;">
                                                <i class="fa fa-search fa-fw"></i>
                                            </a>
                                        </span>*@
                                    </div>
                                </div>
                                <label class="control-label col-md-1 col-sm-1 col-xs-12">Location</label>
                                <div class="col-md-4 col-sm-4 col-xs-12">
                                    <div class="">
                                        <input class="form-control readonly" id="LocationCode" name="LocationCode" value="" type="hidden" data-id="i" autocomplete="off" required="" />
                                        <input class="form-control readonly" placeholder="Location" id="LocationName" name="LocationName" value="" type="text" data-id="i" autocomplete="off" required="" data-toggle="modal" style="cursor:auto;margin-right:0;height: 34px;" readonly />
                                        @*<span class="input-group-btn">
                                            <a class="btn btn-info" onclick="Location()" data-target="#Lookup" data-toggle="modal" style="margin-right:0;height: 34px;">
                                                <i class="fa fa-search fa-fw"></i>
                                            </a>
                                        </span>*@
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-md-1 col-sm-1 col-xs-12">Floor</label>
                                <div class="col-md-4 col-sm-4 xdisplay_inputx form-group has-feedback">
                                    <input class="form-control readonly" id="Floor" name="Floor" placeholder="Floor" value="" type="text" data-id="i" autocomplete="off" required="" style="cursor:auto;" readonly />
                                </div>
                                <label class="control-label col-md-1 col-sm-1 col-xs-12">Notes</label>
                                <div class="col-md-4 col-sm-4 col-xs-12">
                                    <textarea id="Notes" name="Notes" class="form-control" rows="3" placeholder="Notes" data-id="i" readonly></textarea>
                                </div>
                            </div>
                            <div class="ln_solid"></div>
                            <div class="form-group">
                                <div class="col-md-6 col-sm-6 col-xs-12 col-md-offset-1">
                                    <button id="submit" type="button" class="btn btn-primary" onclick="" >Print</button>
                                </div>
                            </div>
                        </form>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- MODAL1 END -->
@Html.Partial("~/Views/Shared/WarningModal.cshtml")
@RenderPage("~/Views/Shared/_FooterLayout.cshtml")
@Html.Partial("~/Views/Shared/PopupModal.cshtml")

<script type="text/javascript">
    function Load()
    {
        $.ajax({
            url: '@Url.Action("LoadUpdateTransfer", "Asset")',
            type: 'Post',
            cache: false,
            async: true,
            data: {},
            success: function (response) {
                $("#TransferAssetNo").val(response.TransferAssetNo);
                $("#Type").val(response.Type);
                $("#NamaType").val(response.NamaType);
                var TransferDate = new Date(parseInt(response.TransferDate.substr(6)));
                $("#TransferDate").val(TransferDate.format("d/m/Y"));
                $("#TransferAssetNoRef").val(response.TransferAssetNoRef);
                $("#SiteCode").val(response.SiteCode);
                $("#SiteName").val(response.SiteName);
                $("#LocationCode").val(response.LocationCode);
                $("#LocationName").val(response.LocationName);
                $("#Floor").val(response.Floor);
                $("#Notes").val(response.Notes);
                $("#Status").val(response.Status);
                $("#NamaStatus").val(response.NamaStatus);
            },
            error: function (XMLHttpRequest, textStatus, errorThrown) {
                $(".modal-body #peringatan1").text("Please Wait...");
                $('#btncaution').click(function (e) {
                    $('#Alert1').modal('hide');
                })
                $("#Alert1").modal();
            }
        });
     }
    
    Load();
</script>
